## Vant2 移动端 UI 组件库

> 参考:[Vant 2 - 轻量、可靠的移动端组件库 (gitee.io)](https://vant-contrib.gitee.io/vant/v2/#/zh-CN/)

### 安装

#### 通过 npm 安装

> 在现有项目中使用 Vant 时，可以通过 `npm` 或 `yarn` 进行安装：

```bash
# Vue 3 项目，安装最新版 Vant：
npm i vant -S

# Vue 2 项目，安装 Vant 2：
npm i vant@latest-v2 -S
```

#### 通过 CDN 安装

使用 Vant 最简单的方法是直接在 html 文件中引入 CDN 链接，之后你可以通过全局变量 `vant` 访问到所有组件。

```html
<!-- 引入样式文件 -->
<link rel="stylesheet" href="https://unpkg.com/vant@2.12/lib/index.css" />

<!-- 引入 Vue 和 Vant 的 JS 文件 -->
<script src="https://unpkg.com/vue@2.6/dist/vue.min.js"></script>
<script src="https://unpkg.com/vant@2.12/lib/vant.min.js"></script>

<script>
  // 在 #app 标签下渲染一个按钮组件
  new Vue({
    el: '#app',
    template: `<van-button>按钮</van-button>`,
  });

  // 调用函数组件，弹出一个 Toast
  vant.Toast('提示');

  // 通过 CDN 引入时不会自动注册 Lazyload 组件
  // 可以通过下面的方式手动注册
  Vue.use(vant.Lazyload);
</script>
```

##### 免费 CDN

你可以通过以下免费 CDN 服务来使用 Vant:

- [jsdelivr](https://www.jsdelivr.com/package/npm/vant)
- [cdnjs](https://cdnjs.com/libraries/vant)
- [unpkg](https://unpkg.com/)

注意：免费 CDN 一般用于制作原型或个人小型项目，不推荐在企业生产环境中使用免费 CDN。

对于企业开发者，建议使用以下方式：

- 通过 npm 引入，并通过构建工具进行打包
- 下载对应文件，并托管在你自己的服务器或 CDN 上

#### 通过脚手架安装

在新项目中使用 Vant 时，推荐使用 Vue 官方提供的脚手架 [Vue Cli](https://cli.vuejs.org/zh/) 创建项目并安装 Vant。

```bash
# 安装 Vue Cli
npm install -g @vue/cli

# 创建一个项目
vue create hello-world

# 创建完成后，可以通过命令打开图形化界面，如下图所示
vue ui
```

![img](https://img01.yzcdn.cn/vant/vue-cli-demo-201809032000.png)

在图形化界面中，点击 `依赖` -> `安装依赖`，然后将 `vant` 添加到依赖中即可。

### 引入组件

#### 方式一. 自动按需引入组件 (推荐)

[babel-plugin-import](https://github.com/ant-design/babel-plugin-import) 是一款 babel 插件，它会在编译过程中将 import 的写法自动转换为按需引入的方式。

```bash
# 安装插件
npm i babel-plugin-import -D
// 在.babelrc 中添加配置
// 注意：webpack 1 无需设置 libraryDirectory
{
  "plugins": [
    ["import", {
      "libraryName": "vant",
      "libraryDirectory": "es",
      "style": true
    }]
  ]
}

// 对于使用 babel7 的用户，可以在 babel.config.js 中配置
module.exports = {
  plugins: [
    ['import', {
      libraryName: 'vant',
      libraryDirectory: 'es',
      style: true
    }, 'vant']
  ]
};
```
```bash
// 接着你可以在代码中直接引入 Vant 组件
// 插件会自动将代码转化为方式二中的按需引入形式
import { Button } from 'vant';
```

> Tips:
>
> 1. 如果你在使用 TypeScript，可以使用 [ts-import-plugin](https://github.com/Brooooooklyn/ts-import-plugin) 实现按需引入。
> 2. 此外按需引入后需要重启项目才能使样式生效。

#### 方式二. 手动按需引入组件

在不使用插件的情况下，可以手动引入需要的组件。

```js
import Button from 'vant/lib/button';
import 'vant/lib/button/style';
```

#### 方式三. 导入所有组件

Vant 支持一次性导入所有组件，引入所有组件会增加代码包体积，因此不推荐这种做法。

```js
import Vue from 'vue';
import Vant from 'vant';
import 'vant/lib/index.css';

Vue.use(Vant);
```

> Tips: 配置按需引入后，将不允许直接导入所有组件。

### 使用

> 参考官网：[Vant 2 - 轻量、可靠的移动端组件库 (gitee.io)](https://vant-contrib.gitee.io/vant/v2/#/zh-CN/)

## 网音乐接口[^网易云音乐API文档]

1. 推荐音乐

   http://iwenwiki.com:3000/personalized?limit=6

   请求类型：`get`

   可选参数：`limit`取出数量，默认为30

   接口地址：`/personalized`

   http://iwenwiki.com:3000/toplist/detail

2. 最新音乐
   https://interface.music.163.com/weapi/personalized/newsong
   请求方式：`post`
   参数：
    `params`
    `encSecKey`

   ```json
   // 参数值(从网站-->F12调试-->网络-->筛选“Fetch/XHR”-->找“newsong?”开头字段的请求结果)
   {
     "params": "pk/o/Lv94Bm74ELSrf6sFOoIUNcMQQ3YRif4NKIFN9o7fsMcGOJ3AaDOBNw4siEWIC9AvviVrLcReXufhRNPa/DfYKAFPJXfO61m0rw7QU+B8JJDpzmPBf7YV8U/P6cTYu1X+DNb+z2mHmG7Zc60FA",
     "encSecKey": "0c81cf6ff078c220966a596e4918059da67b2493fa22bb40448679c2bfedbafa1d8bcc89ed7f27a72bae713ec3ba97077353a67655a1084ed6f2ae3dc45a4ad02456488c06d744c5a2fd1d0dd3a1641461abf6780abc182ed58b43de2f42c845142c6cd3dc67f886b35aad368ce081593cea8bf8b5fc6e488b2008183ed09a4a"
   }
   ```

   

3. 推荐音乐 分类歌曲列表界面
   xx/xx/id=2230318386 

4. 音乐精彩评论 歌曲评论的代码
   https://music.163.com/api/v1/resource/comments/R_SO_4_2015976648(id号)

5. 音乐播放地址（id参数）
   https://music.163.com/outchain/player?type=2&id=2015976648&auto=1&height=66&bg=e8e8e8

6. 歌词接口
   http://iwenwiki.com/lyric?id=33894312

7. 热门搜索
   http://iwenwiki.com:3000/search/hot

8. 搜索接口 
   http://iwenwiki.com:3000/search/suggest?keywords=后来&type=mobile

[^网易云音乐API文档]:[网易云音乐API文档 (iwenwiki.com)](http://iwenwiki.com/NeteaseCloudMusicApi/)

## 接口参数--（前后端联调）

1. 接口提供
   公司的后端程序员（java）
       http://192.168.xx.xx/xx/xxx/xx 

2. 接口参数

   1. 接口文档说明：-- 本地的world  在线的文档-postman 
      请求的方式
      参数传递
      响应的数据 

   2. 没有接口文档 -- 直接发送接口地址 

   3. 问题

      获取接口成功后 不知道参数字段什么意思 

