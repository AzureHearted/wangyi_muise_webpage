###### 项目笔记~高仿网易云~

# Vant2 移动端 UI 组件库[^Vant 2]

## 安装

### 通过 npm 安装

> 在现有项目中使用 Vant 时，可以通过 `npm` 或 `yarn` 进行安装：

```bash
# Vue 3 项目，安装最新版 Vant：
npm i vant -S

# Vue 2 项目，安装 Vant 2：
npm i vant@latest-v2 -S
```

### 通过 CDN 安装

使用 Vant 最简单的方法是直接在 html 文件中引入 CDN 链接，之后你可以通过全局变量 `vant` 访问到所有组件。

```html
<!-- 引入样式文件 -->
<link rel="stylesheet" href="https://unpkg.com/vant@2.12/lib/index.css" />

<!-- 引入 Vue 和 Vant 的 JS 文件 -->
<script src="https://unpkg.com/vue@2.6/dist/vue.min.js"></script>
<script src="https://unpkg.com/vant@2.12/lib/vant.min.js"></script>

<script>
  // 在 #app 标签下渲染一个按钮组件
  new Vue({
    el: '#app',
    template: `<van-button>按钮</van-button>`,
  });

  // 调用函数组件，弹出一个 Toast
  vant.Toast('提示');

  // 通过 CDN 引入时不会自动注册 Lazyload 组件
  // 可以通过下面的方式手动注册
  Vue.use(vant.Lazyload);
</script>
```

#### 免费 CDN

你可以通过以下免费 CDN 服务来使用 Vant:

- [jsdelivr](https://www.jsdelivr.com/package/npm/vant)
- [cdnjs](https://cdnjs.com/libraries/vant)
- [unpkg](https://unpkg.com/)

注意：免费 CDN 一般用于制作原型或个人小型项目，不推荐在企业生产环境中使用免费 CDN。

对于企业开发者，建议使用以下方式：

- 通过 npm 引入，并通过构建工具进行打包
- 下载对应文件，并托管在你自己的服务器或 CDN 上

### 通过脚手架安装

在新项目中使用 Vant 时，推荐使用 Vue 官方提供的脚手架 [Vue Cli](https://cli.vuejs.org/zh/) 创建项目并安装 Vant。

```bash
# 安装 Vue Cli
npm install -g @vue/cli

# 创建一个项目
vue create hello-world

# 创建完成后，可以通过命令打开图形化界面，如下图所示
vue ui
```

![img](https://img01.yzcdn.cn/vant/vue-cli-demo-201809032000.png)

在图形化界面中，点击 `依赖` -> `安装依赖`，然后将 `vant` 添加到依赖中即可。

## 引入组件

### 方式一. 自动按需引入组件 (推荐)

[babel-plugin-import](https://github.com/ant-design/babel-plugin-import) 是一款 babel 插件，它会在编译过程中将 import 的写法自动转换为按需引入的方式。

```bash
# 安装插件
npm i babel-plugin-import -D
```
```js
// 在.babelrc 中添加配置
// 注意：webpack 1 无需设置 libraryDirectory
{
  "plugins": [
    ["import", {
      "libraryName": "vant",
      "libraryDirectory": "es",
      "style": true
    }]
  ]
}

// 对于使用 babel7 的用户，可以在 babel.config.js 中配置
module.exports = {
  plugins: [
    ['import', {
      libraryName: 'vant',
      libraryDirectory: 'es',
      style: true
    }, 'vant']
  ]
};
```

```js
// 接着你可以在代码中直接引入 Vant 组件
// 插件会自动将代码转化为方式二中的按需引入形式
import { Button } from 'vant';
```

> Tips:
>
> 1. 如果你在使用 TypeScript，可以使用 [ts-import-plugin](https://github.com/Brooooooklyn/ts-import-plugin) 实现按需引入。
> 2. 此外按需引入后需要重启项目才能使样式生效。

### 方式二. 手动按需引入组件

在不使用插件的情况下，可以手动引入需要的组件。

```js
import Button from 'vant/lib/button';
import 'vant/lib/button/style';
```

### 方式三. 导入所有组件

Vant 支持一次性导入所有组件，引入所有组件会增加代码包体积，因此不推荐这种做法。

```js
import Vue from 'vue';
import Vant from 'vant';
import 'vant/lib/index.css';

Vue.use(Vant);
```

> Tips: 配置按需引入后，将不允许直接导入所有组件。

## 使用

> 参考官网[^Vant 2]



[^Vant 2]:[Vant 2 - 轻量、可靠的移动端组件库 (gitee.io)](https://vant-contrib.gitee.io/vant/v2/#/zh-CN/)

# 网音乐接口[^网易云音乐API文档]

###### 推荐音乐

http://iwenwiki.com:3000/personalized?limit=6

请求类型：`get`

可选参数：`limit`取出数量，默认为30

接口地址：`/personalized`

http://iwenwiki.com:3000/toplist/detail

###### 所有榜单接口(`get`)

http://iwenwiki.com:3000/toplist

###### 歌单详情接口(`get`)

http://iwenwiki.com:3000/playlist/detail

- 说明 : 歌单能看到歌单名字, 但看不到具体歌单内容 , 调用此接口 , 传入歌单 id, 可 以获取对应歌单内的所有的音乐(未登录状态只能获取不完整的歌单,登录后是完整的)，但是返回的trackIds是完整的，tracks 则是不完整的，可拿全部 trackIds 请求一次 `song/detail` 接口获取所有歌曲的详情

- 参数

|  参数  |      类型      | 含义                             |
| :----: | :------------: | :------------------------------- |
| *`id`* |    `Number`    | 歌单id                           |
|  `s`   | (可选)`Number` | 歌单最近的`s`个收藏者，默认值为8 |

###### 最新音乐(新歌榜)

1. 先获取[所有榜单](#所有榜单接口(`get`))，从所有榜单中找到"新歌榜"的id。(实测id为`3779629`)
2. 再通过[歌单详情](#歌单详情接口(`get`))获取榜单内容。

> [!note]
>
> http://iwenwiki.com:3000/playlist/detail?id=3779629

> [!tip]
>
> 官方的接口示例：
>
> https://interface.music.163.com/weapi/personalized/newsong

###### 获取热歌榜

1. 先获取[所有榜单](#所有榜单接口(`get`))，从所有榜单中找到"热歌榜"的id。(实测id为`3778678`)
2. 再通过[歌单详情](#歌单详情接口(`get`))获取榜单内容。

> [!note]
>
> http://iwenwiki.com:3000/playlist/detail?id=3778678

###### 热门搜索(`get`)

http://iwenwiki.com:3000/search/hot

###### 搜索建议接口(`get`)

http://iwenwiki.com:3000/search/suggest (若需要信息可将`search`替换为`cloudsearch`)

- 参数

|     参数     |      类型      | 含义                             |
| :----------: | :------------: | :------------------------------- |
| *`keywords`* |    `String`    | 关键词                           |
|    `type`    | (可选)`Number` | 如果传 'mobile' 则返回移动端数据 |

###### 搜索接口(`get`)

http://iwenwiki.com:3000/search

http://iwenwiki.com:3000/cloudsearch (推荐，信息更全)

- 参数

|     参数     |      类型      | 含义                                                         |
| :----------: | :------------: | :----------------------------------------------------------- |
| *`keywords`* |    `String`    | 关键词                                                       |
|   `limit`    | (可选)`Number` | 返回数量，默认为30                                           |
|   `offset`   | (可选)`Number` | 偏移数量，用于分页，默认为0                                  |
|    `type`    | (可选)`Number` | 搜索类型，默认为 1 即单曲 , <br />取值意义 : 1: 单曲, 10: 专辑, 100: 歌手, 1000: 歌单, 1002: 用户, 1004: MV, 1006: 歌词, 1009: 电台, 1014: 视频, 1018:综合 |

###### 音乐url获取接口(`get`)

http://iwenwiki.com:3000/song/url

- 参数

|  参数  |      类型      | 含义                                                         |
| :----: | :------------: | :----------------------------------------------------------- |
| *`id`* |    `Number`    | 音乐 id                                                      |
|  `br`  | (可选)`Number` | 码率,默认设置了 999000 即最大码率,如果要 320k 则可设置为 320000,其他类推 |

>  [!tip]
>
> 官方播放接口示例：
>
> https://music.163.com/outchain/player?type=2&id=2015976648&auto=1&height=66&bg=e8e8e8

###### 获取歌曲信息接口(`get`)

http://iwenwiki.com:3000/song/detail

- 说明 : 调用此接口 , 传入音乐 id(支持多个 id, 用 `,` 隔开), 可获得歌曲详情(注意:歌曲封面现在需要通过专辑内容接口获取)

- 参数

|  参数   |    类型    | 含义                     |
| :-----: | :--------: | :----------------------- |
| *`ids`* | `Number[]` | 音乐 id ，如`ids=347230` |

- 调用例子 : `/song/detail?ids=347230`,`/song/detail?ids=347230,347231`

###### 歌词接口(`get`)

http://iwenwiki.com/lyric

- 参数

|  参数  |   类型   | 含义    |
| :----: | :------: | :------ |
| *`id`* | `Number` | 音乐 id |



[^网易云音乐API文档]:[网易云音乐API文档 (iwenwiki.com)](http://iwenwiki.com/NeteaseCloudMusicApi/)

# 接口参数（前后端联调）

1. 接口提供
   公司的后端程序员（java）
       http://192.168.xx.xx/xx/xxx/xx 

2. 接口参数

   1. 接口文档说明：-- 本地的world  在线的文档-postman 
      请求的方式
      参数传递
      响应的数据 

   2. 没有接口文档 -- 直接发送接口地址 

   3. 问题

      获取接口成功后 不知道参数字段什么意思 

# 第三方组件

## vue-aplayer 音频播放组件[^vue-aplayer]

> [!note]
>
> 官网：[vue-aplayer](https://aplayer.netlify.app/docs/)
>
> 文档：[入门 | vue-aplayer](https://aplayer.netlify.app/docs/guide/)

### 安装[^入门 | vue-aplayer]

###### 使用 npm

```bash
npm install @moefe/vue-aplayer --save
```

###### 使用 yarn *`推荐`*

```bash
yarn add @moefe/vue-aplayer
```

推荐使用 yarn 安装并提交 yarn.lock 锁定版本号

### 快速开始

#### 传统方式

📝 index.html

```html
<html>
  <body>
    <!-- prettier-ignore -->
    <div id="app">
      <a-player :audio="audio" :lrc-type="3"></a-player>
    </div>
  </body>
  <!-- 你必须在引入 vue-aplayer 之前引入 vue -->
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="https://cdn.jsdelivr.net/npm/@moefe/vue-aplayer"></script>
  <script>
    Vue.use(VueAPlayer, {
      defaultCover: 'https://github.com/u3u.png',
      productionTip: true,
    });

    new Vue({
      el: '#app',
      data: {
        audio: {
          name: '东西（Cover：林俊呈）',
          artist: '纳豆',
          url: 'https://cdn.moefe.org/music/mp3/thing.mp3',
          cover: 'https://p1.music.126.net/5zs7IvmLv7KahY3BFzUmrg==/109951163635241613.jpg?param=300y300', // prettier-ignore
          lrc: 'https://cdn.moefe.org/music/lrc/thing.lrc',
        },
      },
    });
  </script>
</html>
```

#### 单文件组件

📝 main.js

```js
import Vue from 'vue';
import APlayer from '@moefe/vue-aplayer';

Vue.use(APlayer, {
  defaultCover: 'https://github.com/u3u.png',
  productionTip: true,
});
```

📝 app.vue

```vue
<!-- prettier-ignore -->
<template>
  <div id="app">
    <aplayer :audio="audio" :lrcType="3" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      audio: {
        name: '东西（Cover：林俊呈）',
        artist: '纳豆',
        url: 'https://cdn.moefe.org/music/mp3/thing.mp3',
        cover: 'https://p1.music.126.net/5zs7IvmLv7KahY3BFzUmrg==/109951163635241613.jpg?param=300y300', // prettier-ignore
        lrc: 'https://cdn.moefe.org/music/lrc/thing.lrc',
      },
    };
  },
};
</script>
```

> [!warning]
>
> 这种方式是官方推荐的，也是大家熟知的使用最多、上手最快的。但是开发体验不是很友好。
> 虽然官方提供了 [Vetur](https://github.com/vuejs/vetur) 扩展来强化开发体验，但依然无法做到以下几点：
>
> 1. ~~目前 Prettier 还不支持格式化模版部分[（正在进行中）](https://github.com/prettier/prettier/pull/4753)~~
> 2. 模版部分没有强大的智能感知功能
> 3. 对 TypeScript 不友好
> 4. 无法批量传递 `props`
> 5. 不能使用 HTML 内置标签名

#### vue-class-component *`推荐`*

如果你熟悉 React，或是 JSX 爱好者，那么我推荐你使用这种方式。
你依然可以使用 `@Component` 装饰器以传统方式传递组件的属性，但我不推荐这么做。

###### JavaScript

> [!tip]
>
> `@vue/cli` 3.0 默认配置了 [JSX 预设](https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/babel-preset-app)，所以你无需做任何额外的配置。
> 安装 [vue-tsx-support](https://github.com/wonderful-panda/vue-tsx-support#install-and-enable) 并配置 [jsconfig.json](https://code.visualstudio.com/docs/languages/jsconfig) 和 [vue-jsx-hot-loader](https://github.com/skyrpex/vue-jsx-hot-loader) 获得最佳开发体验。

📝 main.js

```js
import Vue from 'vue';
import APlayer from '@moefe/vue-aplayer';

Vue.use(APlayer, {
  defaultCover: 'https://github.com/u3u.png',
  productionTip: true,
});
```

📝 app.js

```jsx
import Vue from 'vue';
import Component from 'vue-class-component';
import { APlayer } from '@moefe/vue-aplayer';

@Component
export default class App extends Vue {
  audio = {
    name: '东西（Cover：林俊呈）',
    artist: '纳豆',
    url: 'https://cdn.moefe.org/music/mp3/thing.mp3',
    cover: 'https://p1.music.126.net/5zs7IvmLv7KahY3BFzUmrg==/109951163635241613.jpg?param=300y300', // prettier-ignore
    lrc: 'https://cdn.moefe.org/music/lrc/thing.lrc',
  };

  render() {
    return (
      <div id="app">
        <APlayer audio={this.audio} lrcType={3} />
      </div>
    );
  }
}
```

###### TypeScript *`推荐`*

> [!CAUTION]
>
> TypeScript 用户必须安装 [vue-tsx-support](https://github.com/wonderful-panda/vue-tsx-support#install-and-enable) 并配置 [tsconfig.json](https://www.tslang.cn/docs/handbook/tsconfig-json.html)
> 同样，你也可以配置 [vue-jsx-hot-loader](https://github.com/skyrpex/vue-jsx-hot-loader) 获得最佳开发体验。

main.ts

```ts
import Vue from 'vue';
import APlayer from '@moefe/vue-aplayer';

Vue.use<APlayer.InstallOptions>(APlayer, {
  defaultCover: 'https://github.com/u3u.png',
  productionTip: true,
});
```

📝 app.tsx

```tsx
import Vue from 'vue';
import Comopnent from 'vue-class-component';
import { APlayer } from '@moefe/vue-aplayer';

@Comopnent
export default class App extends Vue {
  private audio: APlayer.Audio | APlayer.Audio[] = {
    name: '东西（Cover：林俊呈）',
    artist: '纳豆',
    url: 'https://cdn.moefe.org/music/mp3/thing.mp3',
    cover: 'https://p1.music.126.net/5zs7IvmLv7KahY3BFzUmrg==/109951163635241613.jpg?param=300y300', // prettier-ignore
    lrc: 'https://cdn.moefe.org/music/lrc/thing.lrc',
  };

  render() {
    return (
      <div id="app">
        <APlayer audio={this.audio} lrcType={3} />
      </div>
    );
  }
}
```

### 选项说明[^选项 | vue-aplayer]

###### fixed `可选`

- **类型**：`boolean?`
- **默认值**：`false`
- **描述**：是否开启吸底模式

###### mini `可选`

> [!tip]
>
> 如果开启吸底模式，该选项可以控制播放器展开或收起

- **类型**：`boolean?`
- **默认值**：`false`
- **描述**：是否开启迷你模式

###### autoplay `可选`

> [!warning]
>
> 由于大多数移动端浏览器禁止了音频自动播放，所以该选项在移动端无效

- **类型**：`boolean?`
- **默认值**：`false`
- **描述**：是否开启自动播放

###### theme `可选`

> [!tip]
>
> 你可以选择引入 [color-thief](https://cdn.jsdelivr.net/npm/colorthief@2.0.2/dist/) 让播放器根据封面图片自动获取主题颜色

- **类型**：`string?`
- **默认值**：`#b7daff`
- **描述**：设置播放器默认主题颜色

###### loop `可选`

> [!warning]
>
> 由于播放器会保存用户的使用习惯，所以播放器首次初始化之后该选项将失效

- **类型**：`APlayer.LoopMode?`
- **默认值**：`all`
- **描述**：设置播放器的初始循环模式

```ts
declare namespace APlayer {
  export type LoopMode = 'all' | 'one' | 'none';
}
```

###### order `可选`

> [!warning]
>
> 由于播放器会保存用户的使用习惯，所以播放器首次初始化之后该选项将失效

- **类型**：`APlayer.OrderMode?`
- **默认值**：`list`
- **描述**：设置播放器的初始顺序模式

```ts
declare namespace APlayer {
  export type OrderMode = 'list' | 'random';
}
```

###### preload `可选`

- **类型**：`APlayer.Preload?`
- **默认值**：`auto`
- **描述**：设置音频的预加载模式

```ts
declare namespace APlayer {
  export type Preload = 'none' | 'metadata' | 'auto';
}
```

###### volume `可选`

- **类型**：`number?`
- **默认值**：`0.7`
- **描述**：设置播放器的音量

###### audio *`必填`*_~Rd~_

- **类型**：`APlayer.Audio | Array<APlayer.Audio>`
- **默认值**：`undefined`
- **描述**：设置要播放的音频对象或播放列表

```ts
declare namespace APlayer {
  export type AudioType = 'auto' | 'hls' | 'normal';
  export interface Audio {
    id?: number; // 音频 id
    name: string | VNode; // 音频名称
    artist: string | VNode; // 音频艺术家
    url: string; // 音频播放地址
    cover: string; // 音频封面
    lrc?: string; // lrc 歌词
    theme?: string; // 单曲主题色，它将覆盖全局的默认主题色
    type?: AudioType; // 指定音频的类型
    speed?: number; // 单曲播放速度
  }
}
```

这里与 [APlayer](https://github.com/MoePlayer/APlayer) 不同的是新增了 `id` 和 `speed` 属性。
`id` 默认情况下由播放器自动生成，你也可以手动传一个 `id` 来覆盖它。
`speed` 属性可以指定该音频的播放速度。

> [!warning]
>
> `id` 是用来区分音频的唯一标识，不允许重复，如果出现重复可能会导致播放器出现异常。
> 默认情况下 `id` 是根据播放列表的索引生成，当播放列表发生变化时 (新增/删除) 会重新生成。
> 当你从播放列表中删除音频时，由于播放列表发生了变化，所以会导致当前音频的 `id` 与删除后的播放列表不匹配。 出现这种情况时，会降级根据 `url` 更新当前音频的信息，如果播放列表中每一项的 `url` 都是唯一的，那么不会有问题。 如果有重复的 `url`，你必须设置音频的 `id` 属性，以确保每一项都是唯一的，否则播放器可能出现异常。

###### customAudioType `可选`

- **类型**：`{ [index: string]: Function }?`
- **默认值**：`undefined`
- **描述**：自定义音频类型

📝 [example.vue](https://aplayer.netlify.app/docs/guide/hls.html)

```vue
<template>
  <aplayer :audio="audio" :customAudioType="customAudioType" :lrcType="3" />
</template>

<script>
import Vue from 'vue';
import APlayer from '@moefe/vue-aplayer';

Vue.use(APlayer);

export default {
  data() {
    return {
      audio: {
        name: 'Let It Go.m3u8',
        artist: 'Idina Menzel',
        url: 'https://cdn.moefe.org/music/hls/frozen.m3u8',
        cover: 'https://p1.music.126.net/n72JJkPg2-ENxhB-DsZ2AA==/109951163115400390.jpg?param=300y300', // prettier-ignore
        lrc: 'https://cdn.moefe.org/music/lrc/frozen.lrc',
        type: 'customHls',
      },
      customAudioType: {
        customHls(audioElement, audio, player) {
          if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(audio.url);
            hls.attachMedia(audioElement);
          } else if (
            audioElement.canPlayType('application/x-mpegURL') ||
            audioElement.canPlayType('application/vnd.apple.mpegURL')
          ) {
            audioElement.src = audio.url;
          } else {
            player.showNotice('Error: HLS is not supported.');
          }
        },
      },
    };
  },
};
</script>
```

###### mutex `可选`

- **类型**：`boolean?`
- **默认值**：`true`
- **描述**：是否开启互斥模式

如果开启则会阻止多个播放器同时播放，当前播放器播放时暂停其他播放器

###### lrcType 可选

- **类型**：`APlayer.LrcType?`
- **默认值**：`0`
- **描述**：设置 lrc 歌词解析模式

```ts
declare namespace APlayer {
  export enum LrcType {
    file = 3, // 表示 audio.lrc 的值是 lrc 文件地址，将通过 `fetch` 获取 lrc 歌词文本
    html = 2, // 不支持 html 用法
    string = 1, // 表示 audio.lrc 的值是 lrc 格式的字符串，将直接通过它解析歌词
    disabled = 0, // 禁用 lrc 歌词
  }
}
```

###### listFolded `可选`

> [!warning]
>
> 由于播放器会保存用户的使用习惯，所以播放器首次初始化之后该选项将失效

- **类型**：`boolean?`
- **默认值**：`false`
- **描述**：是否折叠播放列表

###### listMaxHeight `可选`

- **类型**：`number?`
- **默认值**：`250`
- **描述**：设置播放列表最大高度，单位为像素

###### storageName `可选`

- **类型**：`string?`
- **默认值**：`aplayer-setting`
- **描述**：设置存储播放器设置的 `localStorage` key

这里与 [APlayer](https://github.com/MoePlayer/APlayer) 有所不同，在 `localStorage` 中保存的是对象数组
不同的实例之间互不影响，一般情况下你不需要修改此项。

```ts
declare namespace APlayer {
  export type LoopMode = 'all' | 'one' | 'none';
  export type OrderMode = 'list' | 'random';
  export interface Settings {
    currentTime: number; // 当前音频的播放时间
    duration: number | null; // 当前音频的长度
    paused: boolean; // 当前播放器是否暂停
    mini: boolean; // 是否是 mini 模式
    lrc: boolean; // 当前歌词
    list: boolean; // 当前列表是否展开
    volume: number; // 当前播放器音量
    loop: LoopMode; // 当前循环模式
    order: OrderMode; // 当前顺序模式
    music: Audio | null; // 当前播放的音频对象
  }
}
```

```js
// 你可以使用实例的 `currentSettings` 属性获取当前实例的播放器设置
console.log(this.$refs.aplayer.currentSettings);
```

# color thief 图片颜色聚合器

`colorthief`是基于JavaScript和canvas来用于提取图片的主要颜色或者代表性颜色调色板的工具：[官网传送门](https://lokeshdhakar.com/projects/color-thief/)

首先在项目里，使用npm安装一下colorthief的依赖。

```bash
npm i --save colorthief 
```

这个插件使用比较简单，其使用步骤时：

1. 首先在vue的`template`结构中，定义一个`img`标签，用来存放上传的图片，本例中直接使用`:src`绑定一个`bannerimg`的`url`地址。在`img`标签上，添加`@load`事件`loadImage`。
2. 在`script`中使用`import`方法导入`colorthief`插件。
3. `loadImage`方法中，首先用`document.querySelector`方法，拿到`img`的`DOM`。
4. 实例化`ColorThief`对象，使用`colorthief.getPalette(domImg)[0]`，即可获取到图片的主色调，主色调会以一个红色、绿色和蓝色值的三个整数的数组返回。
5. 将`rgb`的数组通过函数，转换成16进制颜色代码；
6. 比较颜色代码与绿色基准代码是否相近，相近的话，则说明健康码正常。

以下是获取主色调的代码：

```vue
<template>
     <div class="bannerd">
         <div class="bannerview">
             <img id="code" class="imgbg" :src="bannerimg" @load="loadImage" alt="" />
         </div>
     </div>
 </template>
 
 <script>
     //npm i --save colorthief
     import ColorThief from "colorthief";
     export default {
         name: "bannerdemo",
         data() {
             return {
                 bannerimg: require("./assets/11.png"),
             }
         },
         methods: {
             onChange(index) {
                 this.bannerimg = this.bigimglist[index].img;
             },
             loadImage() {
                 let domImg = document.querySelector('#code');
                 let colorthief = new ColorThief();
                 this.bacolor = colorthief.getPalette(domImg)[0];
                 console.log(this.bacolor); //主颜色
             },
         }
     }
 </script>
```



[^vue-aplayer]:[vue-aplayer](https://aplayer.netlify.app/docs/)
[^入门 | vue-aplayer]:[入门 | vue-aplayer](https://aplayer.netlify.app/docs/guide/)
[^选项 | vue-aplayer]:[选项 | vue-aplayer](https://aplayer.netlify.app/docs/guide/options.html#fixed)

---

# The End
